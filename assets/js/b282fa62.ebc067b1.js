(self.webpackChunkwiznet_cloud_docs_system=self.webpackChunkwiznet_cloud_docs_system||[]).push([[744],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return s},kt:function(){return m}});var i=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=i.createContext({}),u=function(e){var t=i.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},s=function(e){var t=u(e.components);return i.createElement(c.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},p=i.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),p=u(n),m=r,f=p["".concat(c,".").concat(m)]||p[m]||d[m]||o;return n?i.createElement(f,a(a({ref:t},s),{},{components:n})):i.createElement(f,a({ref:t},s))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,a=new Array(o);a[0]=p;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:r,a[1]=l;for(var u=2;u<o;u++)a[u]=n[u];return i.createElement.apply(null,a)}return i.createElement.apply(null,n)}p.displayName="MDXCreateElement"},3919:function(e,t,n){"use strict";function i(e){return!0===/^(\w*:|\/\/)/.test(e)}function r(e){return void 0!==e&&!i(e)}n.d(t,{b:function(){return i},Z:function(){return r}})},4996:function(e,t,n){"use strict";n.d(t,{C:function(){return o},Z:function(){return a}});var i=n(2263),r=n(3919);function o(){var e=(0,i.default)().siteConfig,t=(e=void 0===e?{}:e).baseUrl,n=void 0===t?"/":t,o=e.url;return{withBaseUrl:function(e,t){return function(e,t,n,i){var o=void 0===i?{}:i,a=o.forcePrependBaseUrl,l=void 0!==a&&a,c=o.absolute,u=void 0!==c&&c;if(!n)return n;if(n.startsWith("#"))return n;if((0,r.b)(n))return n;if(l)return t+n;var s=n.startsWith(t)?n:t+n.replace(/^\//,"");return u?e+s:s}(o,n,e,t)}}}function a(e,t){return void 0===t&&(t={}),(0,o().withBaseUrl)(e,t)}},1522:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return l},metadata:function(){return c},toc:function(){return u},default:function(){return d}});var i=n(2122),r=n(9756),o=(n(7294),n(3905)),a=n(4996),l={title:"WizFi360-EVB",sidebar_position:1},c={unversionedId:"Device/wizfi360-evb_atcmd",id:"Device/wizfi360-evb_atcmd",isDocsHomePage:!1,title:"WizFi360-EVB",description:"Connect to WIZnet Cloud Using WizFi360-EVB",source:"@site/docs/Device/wizfi360-evb_atcmd.md",sourceDirName:"Device",slug:"/Device/wizfi360-evb_atcmd",permalink:"/Device/wizfi360-evb_atcmd",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/Device/wizfi360-evb_atcmd.md",version:"current",sidebarPosition:1,frontMatter:{title:"WizFi360-EVB",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Welcome to WIZnet Cloud Documentation System !",permalink:"/intro"},next:{title:"Overview",permalink:"/"}},u=[{value:"Connect to WIZnet Cloud Using WizFi360-EVB",id:"connect-to-wiznet-cloud-using-wizfi360-evb",children:[]},{value:"Introduction",id:"introduction",children:[]},{value:"Materials",id:"materials",children:[{value:"Hardware",id:"hardware",children:[]},{value:"Software",id:"software",children:[]}]},{value:"Step 1: Initial Settings",id:"step-1-initial-settings",children:[{value:"1. Check Hardware",id:"1-check-hardware",children:[]},{value:"2. Device connection",id:"2-device-connection",children:[]},{value:"3. Open Terminal program",id:"3-open-terminal-program",children:[]}]},{value:"Step 2: Device Setup",id:"step-2-device-setup",children:[{value:"1. WiFi Configuration",id:"1-wifi-configuration",children:[]},{value:"2. Check device connection",id:"2-check-device-connection",children:[]}]},{value:"Step 3. Send data to cloud",id:"step-3-send-data-to-cloud",children:[]},{value:"Next steps",id:"next-steps",children:[]}],s={toc:u};function d(e){var t=e.components,n=(0,r.Z)(e,["components"]);return(0,o.kt)("wrapper",(0,i.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"connect-to-wiznet-cloud-using-wizfi360-evb"},"Connect to WIZnet Cloud Using WizFi360-EVB"),(0,o.kt)("h2",{id:"introduction"},"Introduction"),(0,o.kt)("p",null,"By registering WizFi360-EVB to WIZnet Cloud, you can manage devices and monitor data transmitted from devices."),(0,o.kt)("p",null,"The process of device connection to WIZnet Cloud is as follows."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"1) Device WiFi connection setup\n2) Download the certificate from the authentication server\n3) Connect to WIZnet Cloud using a certificate\n4) Data transmission and monitoring\n")),(0,o.kt)("h2",{id:"materials"},"Materials"),(0,o.kt)("p",null,"First, the following items should be prepared."),(0,o.kt)("h3",{id:"hardware"},"Hardware"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Desktop or Laptop Computer"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://wizwiki.net/wiki/doku.php/products:wizfi360:start"},"WizFi360-EVB-Shield")),(0,o.kt)("li",{parentName:"ul"},"Micro 5 Pin USB Cable")),(0,o.kt)("img",{src:"https://github.com/Wiznet/azure-iot-kr/blob/master/images/mqtt_atcmd_wizfi360_required_item_1.png?raw=true"}),(0,o.kt)("h3",{id:"software"},"Software"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Serial Terminal (TeraTerm, Hercules, YAT, etc.)")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"This document is based on YAT.")),(0,o.kt)("h2",{id:"step-1-initial-settings"},"Step 1: Initial Settings"),(0,o.kt)("h3",{id:"1-check-hardware"},"1. Check Hardware"),(0,o.kt)("p",null,"WizFi360-EVB-Shield is used in ",(0,o.kt)("strong",{parentName:"p"},"Standalone Mode"),". Therefore, the DIP Switch of WizFi360-EVB-Shield should be set as follows."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"SW1 : On"),(0,o.kt)("li",{parentName:"ul"},"SW2 : Off"),(0,o.kt)("li",{parentName:"ul"},"SW3 : Off")),(0,o.kt)("img",{src:"https://github.com/Wiznet/azure-iot-kr/blob/master/images/set_wizfi360_evb_shield_dip_sw_1.png?raw=true"}),(0,o.kt)("h3",{id:"2-device-connection"},"2. Device connection"),(0,o.kt)("p",null,"fter Hardware configuration, Connect WizFi360-EVB-Shield to PC using Micro 5 Pin USB Cable."),(0,o.kt)("p",null,"You can check com port number of Connected Wizfi360-EVB-Shield in Device Manager."),(0,o.kt)("img",{src:"https://github.com/Wiznet/azure-iot-kr/blob/master/images/device_management_1.png?raw=true"}),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"If you can't find device's com port, download and install driver from below link."),(0,o.kt)("ul",{parentName:"blockquote"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://www.silabs.com/products/development-tools/software/usb-to-uart-bridge-vcp-drivers"},"CP210x USB to UART Bridge VCP Drivers")))),(0,o.kt)("h3",{id:"3-open-terminal-program"},"3. Open Terminal program"),(0,o.kt)("p",null,"Execute a ternial program and open device's com port."),(0,o.kt)("p",null,"The default serial baud rate is ",(0,o.kt)("inlineCode",{parentName:"p"},"115200 bps"),"."),(0,o.kt)("h2",{id:"step-2-device-setup"},"Step 2: Device Setup"),(0,o.kt)("h3",{id:"1-wifi-configuration"},"1. WiFi Configuration"),(0,o.kt)("p",null,"When device boot first, the device operates in AP mode, and the following message is output from the terminal."),(0,o.kt)("img",{alt:"wizfi360_first_boot",src:(0,a.Z)("/img/device/wizfi360_first_boot.png")}),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"AP Mode web server config mode\n")),(0,o.kt)("p",null,"Turn on the WiFi function on the smartphone or PC with the WiFi adapter, find the SSID in the form of ",(0,o.kt)("inlineCode",{parentName:"p"},"WizFi360_xxxxxx")," and connect, then run the web browser and access the ",(0,o.kt)("inlineCode",{parentName:"p"},"192.168.36.1")," address."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("inlineCode",{parentName:"p"},"xxxxxx")," mean the last 6 digits of the device MAC address.")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Smartconfig function does not support internet connection.")),(0,o.kt)("img",{alt:"smartconfig_phone_1",src:(0,a.Z)("/img/device/smartconfig_phone_1.png")}),(0,o.kt)("p",null,"On the web page, enter the AP router information (SSID, Password) to which the device will be connected and save the settings."),(0,o.kt)("img",{alt:"smartconfig_phone_2",src:(0,a.Z)("/img/device/smartconfig_phone_2.png")}),(0,o.kt)("p",null,"The device will connect to the AP in Station Mode according to the setting information."),(0,o.kt)("p",null,"At this time, the following message is output from the terminal."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'AP Mode web server config mode<CR><LF>\n+STA_CONNECTED:"<client mac address>"<CR><LF>\nsmartconfig type:Web<CR><LF>\nSmart get wifi info<CR><LF>\nssid:<AP SSID><CR><LF>\npassword:<AP password><CR><LF>\nsmartconfig connected wifi<CR><LF>\n')),(0,o.kt)("p",null,"When connected to the network, the device immediately tries to authenticate through the WIZnet Cloud authentication server."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"If it is not a registered device, cannot receive a certificate.")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"If you can't finish authentication process, please contact the WIZnet Cloud support team.")),(0,o.kt)("h3",{id:"2-check-device-connection"},"2. Check device connection"),(0,o.kt)("p",null,"Once the device receives a certificate from the authentication server and successfully connects to the WIZnet Cloud server, the following message is output."),(0,o.kt)("img",{alt:"wizfi360_smartconfig_setup_log",src:(0,a.Z)("/img/device/wizfi360_smartconfig_setup_log.png")}),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'WIFI CONNECTED<CR><LF>\nWIFI GOT IP<CR><LF>\nGETTING_WINC_DEV_CERT<CR><LF>\nWINC_CLI_CERTIFICATE:OK<CR><LF>\nWINC_PRIVATE_KEY:OK<CR><LF>\nWINC_CONNECTING<CR><LF>\nWINC_CONNECT:OK<CR><LF>\nWINC_DES_SUBSCRIBE:OK<CR><LF>\nWINC_CMD_SUBSCRIBE:OK<CR><LF>\nWINC_TWIN_SUBSCRIBE:OK<CR><LF>\nWINC_PUB:OK<CR><LF>\nTWIN_PUB:OK<CR><LF>\nWINC_SUB_TWIN:$iothub/twin/res/200/?$rid=5865837 -> {"desired":{"firmware":{"fwVersionName":"wizfi360_SDK_WINC_V1.0.0.7.img","fwVersion":"1.0.0.7"},"$version":3},"reported":{"deviceStatus":{"FWVer":"9008","hostFWVer":"","isActivated":"true"},"UserProperty":{"UpMessage":"hello"},"$version":2}}<CR><LF>\n')),(0,o.kt)("p",null,"Now refer to the link below to register your device on the Dashboard site."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/how_to_register_IoT_devices"},"How to register IoT devices"))),(0,o.kt)("h2",{id:"step-3-send-data-to-cloud"},"Step 3. Send data to cloud"),(0,o.kt)("p",null,"You can transfer data using below AT command."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"AT+WINC_PUB_EVENT"))),(0,o.kt)("p",null,"The parameter must be in JSON format."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Key value must follow the component name used when registering the device.")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Component names can be found on the Device Details page within the Dashboard site.")),(0,o.kt)("p",null,"The example below is when the component names set in the device are ",(0,o.kt)("inlineCode",{parentName:"p"},"Float"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"Dec"),"."),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:"left"},"Command"),(0,o.kt)("th",{parentName:"tr",align:"left"},"Response"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},'AT+WINC_PUB_EVENT={"Float": 24.36, "Dec": 64}'),(0,o.kt)("td",{parentName:"tr",align:"left"},"+ WINC_PUB_EVENT:OK")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"}),(0,o.kt)("td",{parentName:"tr",align:"left"},"WINCPUB:OK")))),(0,o.kt)("p",null,"Now go to the Dashboard site and check data."),(0,o.kt)("h2",{id:"next-steps"},"Next steps"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/how_to_register_IoT_devices"},"How to register IoT devices")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/introduce_of_dashboard"},"Introduce of Dashboard")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/rule_engine"},"Rule Engine"))))}d.isMDXComponent=!0}}]);