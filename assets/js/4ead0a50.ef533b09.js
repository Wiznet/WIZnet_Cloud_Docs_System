(self.webpackChunkwiznet_cloud_docs_system=self.webpackChunkwiznet_cloud_docs_system||[]).push([[691],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return d},kt:function(){return m}});var i=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=i.createContext({}),s=function(e){var t=i.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=s(e.components);return i.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},p=i.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,c=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=s(n),m=r,h=p["".concat(c,".").concat(m)]||p[m]||u[m]||a;return n?i.createElement(h,o(o({ref:t},d),{},{components:n})):i.createElement(h,o({ref:t},d))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,o=new Array(a);o[0]=p;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var s=2;s<a;s++)o[s]=n[s];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}p.displayName="MDXCreateElement"},3919:function(e,t,n){"use strict";function i(e){return!0===/^(\w*:|\/\/)/.test(e)}function r(e){return void 0!==e&&!i(e)}n.d(t,{b:function(){return i},Z:function(){return r}})},4996:function(e,t,n){"use strict";n.d(t,{C:function(){return a},Z:function(){return o}});var i=n(2263),r=n(3919);function a(){var e=(0,i.default)().siteConfig,t=(e=void 0===e?{}:e).baseUrl,n=void 0===t?"/":t,a=e.url;return{withBaseUrl:function(e,t){return function(e,t,n,i){var a=void 0===i?{}:i,o=a.forcePrependBaseUrl,l=void 0!==o&&o,c=a.absolute,s=void 0!==c&&c;if(!n)return n;if(n.startsWith("#"))return n;if((0,r.b)(n))return n;if(l)return t+n;var d=n.startsWith(t)?n:t+n.replace(/^\//,"");return s?e+d:d}(a,n,e,t)}}}function o(e,t){return void 0===t&&(t={}),(0,a().withBaseUrl)(e,t)}},5810:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return l},metadata:function(){return c},toc:function(){return s},default:function(){return u}});var i=n(2122),r=n(9756),a=(n(7294),n(3905)),o=n(4996),l={slug:"/devices/wizfi360-evb-shield",title:"WizFi360-EVB-Shield",sidebar_position:1},c={unversionedId:"Device/WizFi360-EVB/wizfi360-evb_atcmd",id:"Device/WizFi360-EVB/wizfi360-evb_atcmd",isDocsHomePage:!1,title:"WizFi360-EVB-Shield",description:"Introduction",source:"@site/docs/Device/WizFi360-EVB/wizfi360-evb_atcmd.md",sourceDirName:"Device/WizFi360-EVB",slug:"/devices/wizfi360-evb-shield",permalink:"/devices/wizfi360-evb-shield",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/Device/WizFi360-EVB/wizfi360-evb_atcmd.md",version:"current",sidebarPosition:1,frontMatter:{slug:"/devices/wizfi360-evb-shield",title:"WizFi360-EVB-Shield",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Widgets",permalink:"/widgets"},next:{title:"WIZnet Cloud Firmware OTA",permalink:"/devices/wizfi360-ota"}},s=[{value:"Introduction",id:"introduction",children:[]},{value:"Materials",id:"materials",children:[{value:"Hardware",id:"hardware",children:[]},{value:"Setup Serial Terminal Tool",id:"setup-serial-terminal-tool",children:[]}]},{value:"Step 1: Initial Settings",id:"step-1-initial-settings",children:[{value:"1. Check Hardware",id:"1-check-hardware",children:[]},{value:"2. Device connection",id:"2-device-connection",children:[]},{value:"3. Open Terminal program",id:"3-open-terminal-program",children:[]}]},{value:"Step 2: Device Setup",id:"step-2-device-setup",children:[{value:"1. WiFi Configuration",id:"1-wifi-configuration",children:[]},{value:"2. Check device connection",id:"2-check-device-connection",children:[]}]},{value:"Step 3. Send data to cloud",id:"step-3-send-data-to-cloud",children:[]},{value:"Next steps",id:"next-steps",children:[]}],d={toc:s};function u(e){var t=e.components,n=(0,r.Z)(e,["components"]);return(0,a.kt)("wrapper",(0,i.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"introduction"},"Introduction"),(0,a.kt)("p",null,"WizFi360-EVB-Shield is the certified to WIZnet Cloud deivce and it is PnP(Plug and Play) IoT device. With WizFi360-EVB-Shield, user can send data to Dashboard and monitoring the data. Also user can control the device and send message to the device from Dashboard. The process of device connection to WIZnet Cloud Dashboard is as follows."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"1) WiFi connection setup\n2) Download the certificate from WIZnet Cloud\n3) Connect to WIZnet Cloud\n4) Data transmission and monitoring from Dashboard\n")),(0,a.kt)("h2",{id:"materials"},"Materials"),(0,a.kt)("p",null,"First, the following items should be prepared."),(0,a.kt)("h3",{id:"hardware"},"Hardware"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Desktop or Laptop Computer"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://wizwiki.net/wiki/doku.php/products:wizfi360:start"},"WizFi360-EVB-Shield")),(0,a.kt)("li",{parentName:"ul"},"Micro 5 Pin USB Cable")),(0,a.kt)("img",{alt:"wizfi360-EVB-Shield",src:(0,o.Z)("/img/device/wizfi360-evb-shield.png")}),(0,a.kt)("h3",{id:"setup-serial-terminal-tool"},"Setup Serial Terminal Tool"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Serial Terminal (TeraTerm, Hercules, YAT, etc.)")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"This document is based on YAT. YAT is free licened program and it supports serial communication terminal.")),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://sourceforge.net/projects/y-a-terminal/"},(0,a.kt)("strong",{parentName:"a"},"YAT Download"))),(0,a.kt)("h2",{id:"step-1-initial-settings"},"Step 1: Initial Settings"),(0,a.kt)("h3",{id:"1-check-hardware"},"1. Check Hardware"),(0,a.kt)("p",null,"WizFi360-EVB-Shield is used in ",(0,a.kt)("strong",{parentName:"p"},"Standalone Mode"),". Therefore, the DIP Switch of WizFi360-EVB-Shield should be set as follows."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"SW1 : On"),(0,a.kt)("li",{parentName:"ul"},"SW2 : Off"),(0,a.kt)("li",{parentName:"ul"},"SW3 : Off")),(0,a.kt)("img",{alt:"wizfi360-EVB-Shield-Setup",src:(0,o.Z)("/img/device/wizfi360-evb-shield-setup.png")}),(0,a.kt)("h3",{id:"2-device-connection"},"2. Device connection"),(0,a.kt)("p",null,"After Hardware configuration, Connect WizFi360-EVB-Shield to PC using Micro 5 Pin USB Cable. Then check ",(0,a.kt)("inlineCode",{parentName:"p"},"Com port number")," of Connected Wizfi360-EVB-Shield in ",(0,a.kt)("inlineCode",{parentName:"p"},"Device Manager"),"."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Windows Task-bar > Search > type ",(0,a.kt)("inlineCode",{parentName:"p"},"Device Manager")," > Enter"),(0,a.kt)("p",{parentName:"blockquote"},"Or refer this link ",(0,a.kt)("a",{parentName:"p",href:"https://www.sony.co.uk/electronics/support/articles/00122116"},"how to access the Device Manager(Windows 10)"))),(0,a.kt)("img",{alt:"device-manager",src:(0,o.Z)("/img/device/device-manager.png")}),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"If you can't find device's ",(0,a.kt)("inlineCode",{parentName:"p"},"COM Port"),", download and install driver from below link."),(0,a.kt)("ul",{parentName:"blockquote"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://www.silabs.com/products/development-tools/software/usb-to-uart-bridge-vcp-drivers"},"CP210x USB to UART Bridge VCP Drivers")))),(0,a.kt)("h3",{id:"3-open-terminal-program"},"3. Open Terminal program"),(0,a.kt)("p",null,"Execute ",(0,a.kt)("inlineCode",{parentName:"p"},"YAT"),"(or your ternial program) and open device's ",(0,a.kt)("inlineCode",{parentName:"p"},"COM Port")," and baud rate as ",(0,a.kt)("inlineCode",{parentName:"p"},"115200 bps"),"."),(0,a.kt)("img",{alt:"Termial-tool-setup",src:(0,o.Z)("/img/device/yat-setup.png")}),(0,a.kt)("h2",{id:"step-2-device-setup"},"Step 2: Device Setup"),(0,a.kt)("h3",{id:"1-wifi-configuration"},"1. WiFi Configuration"),(0,a.kt)("p",null,"When device boot first, the device operates in ",(0,a.kt)("inlineCode",{parentName:"p"},"AP mode"),", and the following message is output from the terminal."),(0,a.kt)("img",{alt:"wizfi360_first_boot",src:(0,o.Z)("/img/device/wizfi360_first_boot.png")}),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"AP Mode web server config mode\n")),(0,a.kt)("p",null,"Turn on the WiFi function on the smartphone or PC with the WiFi adapter, find the SSID in the form of ",(0,a.kt)("inlineCode",{parentName:"p"},"WizFi360_xxxxxx")," and connect, then run the web browser and access the ",(0,a.kt)("inlineCode",{parentName:"p"},"192.168.36.1")," address."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("inlineCode",{parentName:"p"},"xxxxxx")," mean the last 6 digits of the device MAC address.")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Smartconfig function does not support internet connection.")),(0,a.kt)("img",{alt:"smartconfig_phone_1",src:(0,o.Z)("/img/device/smartconfig_phone_1.png")}),(0,a.kt)("p",null,"On the web page, enter the AP router information (SSID, Password) to which the device will be connected and save the settings."),(0,a.kt)("img",{alt:"smartconfig_phone_2",src:(0,o.Z)("/img/device/smartconfig_phone_2.png")}),(0,a.kt)("p",null,"The device will connect to the AP in Station Mode according to the setting information."),(0,a.kt)("p",null,"At this time, the following message is output from the terminal."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'AP Mode web server config mode<CR><LF>\n+STA_CONNECTED:"<client mac address>"<CR><LF>\nsmartconfig type:Web<CR><LF>\nSmart get wifi info<CR><LF>\nssid:<AP SSID><CR><LF>\npassword:<AP password><CR><LF>\nsmartconfig connected wifi<CR><LF>\n')),(0,a.kt)("p",null,"When connected to the network, the device immediately tries to authenticate through the WIZnet Cloud authentication server."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"If it is not a registered device, cannot receive a certificate.")),(0,a.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"Authentication Problem")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"If you can't finish authentication process, please contact the WIZnet Cloud support team."))),(0,a.kt)("h3",{id:"2-check-device-connection"},"2. Check device connection"),(0,a.kt)("p",null,"Once the device receives a certificate from the authentication server and successfully connects to the WIZnet Cloud server, the following message is output."),(0,a.kt)("img",{alt:"wizfi360_smartconfig_setup_log",src:(0,o.Z)("/img/device/wizfi360_smartconfig_setup_log.png")}),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'WIFI CONNECTED<CR><LF>\nWIFI GOT IP<CR><LF>\nGETTING_WINC_DEV_CERT<CR><LF>\nWINC_CLI_CERTIFICATE:OK<CR><LF>\nWINC_PRIVATE_KEY:OK<CR><LF>\nWINC_CONNECTING<CR><LF>\nWINC_CONNECT:OK<CR><LF>\nWINC_DES_SUBSCRIBE:OK<CR><LF>\nWINC_CMD_SUBSCRIBE:OK<CR><LF>\nWINC_TWIN_SUBSCRIBE:OK<CR><LF>\nWINC_PUB:OK<CR><LF>\nTWIN_PUB:OK<CR><LF>\nWINC_SUB_TWIN:$iothub/twin/res/200/?$rid=5865837 -> {"desired":{"firmware":{"fwVersionName":"wizfi360_SDK_WINC_V1.0.0.7.img","fwVersion":"1.0.0.7"},"$version":3},"reported":{"deviceStatus":{"FWVer":"9008","hostFWVer":"","isActivated":"true"},"UserProperty":{"UpMessage":"hello"},"$version":2}}<CR><LF>\n')),(0,a.kt)("p",null,"Now refer to the link below to register your device on the Dashboard site."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/how_to_register_IoT_devices"},"How to register IoT devices"))),(0,a.kt)("h2",{id:"step-3-send-data-to-cloud"},"Step 3. Send data to cloud"),(0,a.kt)("p",null,"You can transfer data using below AT command."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"AT+WINC_PUB_EVENT"))),(0,a.kt)("p",null,"The parameter must be in JSON format."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Key value must follow the component name used when registering the device.")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Component names can be found on the Device Details page within the Dashboard site.")),(0,a.kt)("p",null,"The example below is when the component names set in the device are ",(0,a.kt)("inlineCode",{parentName:"p"},"Float"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"Dec"),"."),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Command"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Response"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},'AT+WINC_PUB_EVENT={"Float": 24.36, "Dec": 64}'),(0,a.kt)("td",{parentName:"tr",align:"left"},"+ WINC_PUB_EVENT:OK")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"}),(0,a.kt)("td",{parentName:"tr",align:"left"},"WINCPUB:OK")))),(0,a.kt)("p",null,"Now go to the Dashboard site and check data."),(0,a.kt)("h2",{id:"next-steps"},"Next steps"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/introduce_of_dashboard"},"Introduce of Dashboard")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/how_to_register_IoT_devices"},"How to register IoT devices")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/rule_engine"},"Rule Engine"))))}u.isMDXComponent=!0}}]);